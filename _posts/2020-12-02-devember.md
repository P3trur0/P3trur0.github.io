---
layout: post
title: Devember 2020 - Devlog
comments: false
spotifyTrack: spotify:track:39F11ECuniTKD93J7NxaNr
---

This is my **Devember 2020 devlog**. Probably I will stop somewhere during this month because of other mandatory duties, although I actually hope this won't happen :smile:

The general aim of this year edition is to improve my functional Scala skillset implementing a playground project using **ZIO**.

##### 1st December 2020
- setup of the repository
- adding ZIOTest
- creating a dummy main class doing basic I/O.

##### 2nd December 2020

- scaffolding of a configuration management using ZIO, still incomplete.

Taking inspiration from [ZIO Exercises](https://github.com/wi101/zio-examples) by Wiem Zine.

Joining Functional Scala 2020. 
It is an online conference about Scala ecosystem. During the first day we started with a workshop by John De Goes, that spent his day explaining all the major features introduced in Scala 3 such as: `enumerations`, `extension methods`, etc.

##### 3rd December 2020

Few other lines added to the project. They introduce a working ZIO-Config instance to load `application.conf` file through ZIO environments.  
Some steps ahead in my understanding of the ZIO ecosystem, especially I got a better understanding of how the enviroment concept fits in the the `ZIO` datatype. However, I have still to work in a complete understanding of it.  

Also, I attended the second day of FunctionalScala. New macro features of Scala 3 look really impressive.  

##### 4th December 2020

My understanding of ZIO features is going better. Today I was able to define two small modules implementing console logging and a dummy business logic. I read through [this documentation](https://zio.dev/docs/howto/howto_use_layers) in order to get a better understading of what `ZLayer` and ZIO modules are about. 
Thanks to this reading I feel more comfortable in browsing through codebases written using ZIO.
My expectations for today afternoon are to be able to better understand Functional Scala talks about ZIO.

##### 5th December 2020

I spent an hour developing a small module to perform API calls using HTTP4S. The module implementation has been inspired by this [blog post](https://juliano-alves.com/2020/04/20/zio-http4s-a-simple-api-client/).  

Since it's my first time both with ZIO and HTTP4S, so far I found it difficult to make them working together. I got an overview about the fact that HTTP4S requires implicits, probably because of the HTTP response deserialization. It seems that HTTP4S client invocations return ZIO `Task` datatype because of the implicit `EntityDecoder` instance. 
ZIO `Task` datatype represents a type alias of an effect requiring an `Any` enviroment as dependency and having a `Throwable` error type.  

Tomorrow's goal may be a better investigation of HTTP4S library and ZIO datatypes as well. Also, I'd like to perform also a proper HTTP invocation using the sourcecode I am writing.

##### 6th December 2020

Tonight I am feeling puzzled because of strange `NoSuchMethodError` exception occurring, i.e.:  

```java
java.lang.NoSuchMethodError: 'zio.ZIO zio.ZIO$.disown(zio.Fiber)'
	at zio.interop.CatsConcurrentEffect.$anonfun$runCancelable$10(cats.scala:192)
	at zio.ZIO$TapFn.apply(ZIO.scala:4137)
	at zio.ZIO$TapFn.apply(ZIO.scala:4135)
	at zio.internal.FiberContext.evaluateNow(FiberContext.scala:916)
	at zio.Runtime.unsafeRunWith(Runtime.scala:207)
	at zio.Runtime.unsafeRunSync(Runtime.scala:81)
	at zio.Runtime.unsafeRunSync$(Runtime.scala:78)
	at zio.Runtime$$anon$3.unsafeRunSync(Runtime.scala:273)
	at zio.Runtime.unsafeRun(Runtime.scala:58)
	at zio.Runtime.unsafeRun$(Runtime.scala:57)
	at zio.Runtime$$anon$3.unsafeRun(Runtime.scala:273)
```

this is happening while trying to launch a sample app written to perform a dummy HTTP GET request towards a publicly exposed endpoint.  
I am still facing problems in understanding all the ZIO machinery because of the paradigm shift that this library is bringing. Indeed, I still don't get a working muscle memory regarding the scaffolding of all the parts required to make the code compiling.  

For example, how is it possible to get an `exitCode` of a `ZIO[ZEnv, Throwable, Unit]` instance running at the end of the world?  

##### 7th December 2020
JavaScript interlude today :smile: A GitHub user reported [an issue](https://github.com/P3trur0/vue-country-flag/issues/38) in `vue-country-flag` about the fact that the component does not support Vue 3.  
So, I spent some time trying to figure out to make the component working with latest version of Vue. Basically, to get the expected behavior I have to rebuild the component sourcecode to make it compliant with the latest features of Vue.  

In order to achieve that, I have to bump all the `devDependencies` versions of `vue-country-flag` and setup a monorepo configuration, possibly with Lerna, to support some mechanism to make the component buildable both for Vue2 and Vue3.  

I made some steps toward the expected outcome, but I am still facing some issues in making all the latest versions of the dependencies working properly. In particular, the Jest tests of the component are not working anymore because of some dependency issue :cry:

---

As a bonus note, I stumbled upon an updated version of `vue-sfc-rollup`: it's the library I used to build this SFC. This updated version of the library looks long way improved if compared with the older version I used to build `vue-country-flag`.  

I hope to provide this Vue3 support soon, so I could switch back to ZIO in next days!  

##### 8th December 2020

##### 9th December 2020

##### 10th December 2020

##### 11th December 2020

##### 12th December 2020

##### 13th December 2020

##### 14th December 2020

##### 15th December 2020

##### 16th December 2020

##### 17th December 2020

##### 18th December 2020

##### 19th December 2020

##### 20th December 2020

##### 21st December 2020

##### 22nd December 2020

##### 23rd December 2020

##### 24th December 2020

##### 25th December 2020

##### 26th December 2020

##### 27th December 2020

##### 28th December 2020

##### 29th December 2020

##### 30th December 2020

##### 31st December 2020

---

##### Devember 2020 statement

_I will participate to the next Devember. My Devember will be programming a playground application to learn ZIO. I promise I will program for my Devember for at least an hour, every day of the next December. I will also write a daily public devlog and will make the produced code publicly available on the internet. No matter what, I will keep my promise._
